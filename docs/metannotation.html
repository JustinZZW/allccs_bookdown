<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Metabolite Annotation | AllCCS Tutorial V1.00</title>
  <meta name="description" content="A user guide for AllCCS webserver." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Metabolite Annotation | AllCCS Tutorial V1.00" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://allccs.zhulab.cn/" />
  <meta property="og:image" content="http://allccs.zhulab.cn/images/logo_190808.png" />
  <meta property="og:description" content="A user guide for AllCCS webserver." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Metabolite Annotation | AllCCS Tutorial V1.00" />
  
  <meta name="twitter:description" content="A user guide for AllCCS webserver." />
  <meta name="twitter:image" content="http://allccs.zhulab.cn/images/logo_190808.png" />

<meta name="author" content="Zhiwei Zhou" />


<meta name="date" content="2019-11-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter3.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">AllCCS Tutorial V1.00</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About AllCCS</a></li>
<li class="chapter" data-level="" data-path="citation.html"><a href="citation.html"><i class="fa fa-check"></i>Citation</a></li>
<li class="chapter" data-level="" data-path="news.html"><a href="news.html"><i class="fa fa-check"></i>News</a></li>
<li class="chapter" data-level="1" data-path="chapter1.html"><a href="chapter1.html"><i class="fa fa-check"></i><b>1</b> Quick Start Guide</a><ul>
<li class="chapter" data-level="1.1" data-path="chapter1.html"><a href="chapter1.html#chaptere1d1"><i class="fa fa-check"></i><b>1.1</b> Create a AllCCS Account</a></li>
<li class="chapter" data-level="1.2" data-path="chapter1.html"><a href="chapter1.html#chaptere1d2"><i class="fa fa-check"></i><b>1.2</b> Browser CCS database</a></li>
<li class="chapter" data-level="1.3" data-path="chapter1.html"><a href="chapter1.html#chaptere1d3"><i class="fa fa-check"></i><b>1.3</b> Perform CCS prediction/Annotation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter2.html"><a href="chapter2.html"><i class="fa fa-check"></i><b>2</b> CCS Database</a><ul>
<li class="chapter" data-level="2.1" data-path="chapter2.html"><a href="chapter2.html#chapter2d1"><i class="fa fa-check"></i><b>2.1</b> Compound Browser</a></li>
<li class="chapter" data-level="2.2" data-path="chapter2.html"><a href="chapter2.html#chapter2d2"><i class="fa fa-check"></i><b>2.2</b> Compound Card</a><ul>
<li class="chapter" data-level="2.2.1" data-path="chapter2.html"><a href="chapter2.html#chapter2d2d1"><i class="fa fa-check"></i><b>2.2.1</b> Compound information</a></li>
<li class="chapter" data-level="2.2.2" data-path="chapter2.html"><a href="chapter2.html#chapter2d2d2"><i class="fa fa-check"></i><b>2.2.2</b> Unified CCS</a></li>
<li class="chapter" data-level="2.2.3" data-path="chapter2.html"><a href="chapter2.html#chapter2d2d3"><i class="fa fa-check"></i><b>2.2.3</b> Experimental CCS records</a></li>
<li class="chapter" data-level="2.2.4" data-path="chapter2.html"><a href="chapter2.html#chapter2d2d4"><i class="fa fa-check"></i><b>2.2.4</b> Predicted CCS records</a></li>
<li class="chapter" data-level="2.2.5" data-path="chapter2.html"><a href="chapter2.html#chapter2d2d5"><i class="fa fa-check"></i><b>2.2.5</b> Database link</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chapter2.html"><a href="chapter2.html#chapter2d3"><i class="fa fa-check"></i><b>2.3</b> Advanced Search</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chapter2.html"><a href="chapter2.html#chapter2d3d1"><i class="fa fa-check"></i><b>2.3.1</b> Single mode</a></li>
<li class="chapter" data-level="2.3.2" data-path="chapter2.html"><a href="chapter2.html#chapter2d3d2"><i class="fa fa-check"></i><b>2.3.2</b> Batch mode</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter3.html"><a href="chapter3.html"><i class="fa fa-check"></i><b>3</b> CCS Prediction</a><ul>
<li class="chapter" data-level="3.1" data-path="chapter3.html"><a href="chapter3.html#chapter3d1"><i class="fa fa-check"></i><b>3.1</b> Data preparation</a><ul>
<li class="chapter" data-level="3.1.1" data-path="chapter3.html"><a href="chapter3.html#chapter3d1d1"><i class="fa fa-check"></i><b>3.1.1</b> Direct input in the panel</a></li>
<li class="chapter" data-level="3.1.2" data-path="chapter3.html"><a href="chapter3.html#chapter3d1d2"><i class="fa fa-check"></i><b>3.1.2</b> Prediction with uploading CSV file</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="chapter3.html"><a href="chapter3.html#chapter3d2"><i class="fa fa-check"></i><b>3.2</b> Result</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="metannotation.html"><a href="metannotation.html"><i class="fa fa-check"></i><b>4</b> Metabolite Annotation</a><ul>
<li class="chapter" data-level="4.1" data-path="metannotation.html"><a href="metannotation.html#feature-to-candidates-feature-match"><i class="fa fa-check"></i><b>4.1</b> Feature to candidates (Feature match)</a></li>
<li class="chapter" data-level="4.2" data-path="metannotation.html"><a href="metannotation.html#complement-to-msms-result-candidate-rank"><i class="fa fa-check"></i><b>4.2</b> Complement to MS/MS result (Candidate rank)</a><ul>
<li class="chapter" data-level="4.2.1" data-path="metannotation.html"><a href="metannotation.html#data-preparation"><i class="fa fa-check"></i><b>4.2.1</b> Data preparation</a></li>
<li class="chapter" data-level="4.2.2" data-path="metannotation.html"><a href="metannotation.html#parameter-setting"><i class="fa fa-check"></i><b>4.2.2</b> Parameter setting</a></li>
<li class="chapter" data-level="4.2.3" data-path="metannotation.html"><a href="metannotation.html#results"><i class="fa fa-check"></i><b>4.2.3</b> Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://www.zhulab.cn/" target="blank">Zhu Lab</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AllCCS Tutorial V1.00</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="metannotation" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Metabolite Annotation</h1>
<p>The part provides an easy-to-use annotation function for unknown features or compounds. It consists of two functions in this part. One is feature match, which supports searching database with measured m/z and CCS for annotation. The second function is candidate rank, which can be in conjunct with any other annotation tools, such as MetFrag, CFM-ID, MS-Finder, and SIRIUS etc. With the results from previously mentioned tools, and inputting experimental m/z and experimental CCS, users can filter/re-rank candidates for more accurate annotation.</p>
<div id="feature-to-candidates-feature-match" class="section level2">
<h2><span class="header-section-number">4.1</span> Feature to candidates (Feature match)</h2>
<p>Feature match function provides a simple and straightforward way to annotate features with experimental m/z and CCS in the AllCCS database. There are several annotation conditions set in this part (Figure 4.1).</p>
<ul>
<li><strong>m/z</strong>: Experimental m/z of your interested peaks.</li>
<li><strong>CCS</strong>: Experimental CCS of your interested peaks.</li>
<li><strong>m/z tolerance (±)</strong>: The tolerance between experimental m/z and theoretical m/z in database. Users can choose ppm or Dalton as unit.</li>
<li><strong>CCS tolerance (±)</strong>: The tolerance between experimental CCS and theoretical CCS in database. Users can choose percentage or Å2 as unit.</li>
<li><strong>Adduct</strong>: Match with the checked adduct forms that exist in the database.</li>
<li><strong>Type</strong>: Match with the checked CCS type in the database, including Experimental CCS, Predicted CCS (See Ref 2.1).</li>
<li><strong>Database</strong>: Match with the checked database. It includes 8 compound structure sources (See Ref 2.1).</li>
</ul>
<p>The match results are as follows (Figure 4.2). The results contain brief information for each compound as section 2.1 Compound Browser mentioned.</p>
<p>Users can check the interested compounds in the last column. Click the download option, you could download a CSV table containing the information of you checked compounds (Figure 4.2).</p>
<p><strong>Note</strong>:</p>
<ul>
<li>Download function supports up to 100 items for one time.</li>
</ul>
</div>
<div id="complement-to-msms-result-candidate-rank" class="section level2">
<h2><span class="header-section-number">4.2</span> Complement to MS/MS result (Candidate rank)</h2>
<p>The candidate rank function supports filtering/re-rank candidates with inputted candidate list. This function could be in conjunct with any other in-silico MS/MS tools like MetFrag, CFM-ID, MS-Finder, and SIRIUS etc. Specifically, it has two rank types: <strong>CCS filtering</strong> and <strong>CCS scoring</strong>. CCS filtering excludes candidates which CCS errors (comparing with predicted CCS values) beyond the pre-defined cutoff value. CCS scoring generates an integrated score for each candidate with custom weights of CCS score (The detail is some with our previous publication - LipidIMMS Analyzer) and MS/MS score. With CCS filtering or scoring, it can provide more credible results.</p>
<div id="data-preparation" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Data preparation</h3>
<p>The MS/MS results (CSV file) generated from other tools should be modified as specific format. A demo data is showed in Figure 4.3. It should include 7 columns with specific names (“rank”, “name”, “smiles”, “inchikey”, “adduct”, “score”). The definitions of each column are given as follows:</p>
<ul>
<li><strong>rank</strong>: The first column in the CSV table. It is the score rank from other tools (e.g. MetFrag, CFM-ID, MS-FINDER, SIRIUS etc).</li>
<li><strong>name</strong>: The second column in the CSV table. Compound names of candidates.</li>
<li><strong>smiles</strong>: The third column in the CSV table. SMILES structures of candidates.</li>
<li><strong>inchikey</strong>: The fourth column in the CSV table. InChIKey identifier of candidates.</li>
<li><strong>adduct</strong>: The fifth column in the CSV table. Adduct form of candidates. Please note that it only supports 7 common adducts (Positive mode, [M+H]+, [M+Na]+, [M+NH4]+, [M-H2O+H]+; Negative mode, [M-H]-, [M+Na-2H]-, [M+HCOO]-).</li>
<li><strong>score</strong>: The sixth column in the CSV table. The MS/MS match score generated in in-silico MS/MS tools.</li>
</ul>
<p><strong>Note</strong>: - The inputted CSV file should have the same column name with demo data. - The column order should be keep same with demo data.</p>
</div>
<div id="parameter-setting" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Parameter setting</h3>
<p>In the candidates rank function, users can get more reliable results by adjusting parameters according to their experiments. The candidate rank function contains parameters as follows:</p>
<ul>
<li><strong>Measured m/z</strong>: Experimental m/z of corresponding feature.</li>
<li><strong>Measured CCS</strong>: Experimental CCS of corresponding feature.</li>
<li><strong>Candidate list</strong>: A CSV file of candidate (See Ref 4.2.1).</li>
<li><strong>Rank type</strong>: It consists of CCS filtering and CCS scoring. When choosing CCS filtering, the next option is CCS tolerance (Figure 4.3). It will filter the results that out of the pre-defined CCS tolerance. If you choose CCS scoring, the follow options are showed as Figure 4.4. It consists of Minimum tolerance, Maximum tolerance, CCS weight, and MS/MS weight.</li>
<li><strong>CCS tolerance (±)</strong>: This parameter is available in CCS filtering. The tolerance between experimental CCS and theoretical CCS in database. Users can choose percentage or Å2 as unit.</li>
<li><strong>Minimum tolerance (%)</strong>: This parameter is available in CCS scoring. If error is within the tolerance, CCS match score equals to 1. Range: 0-10.</li>
<li><strong>Maximum tolerance (%)</strong>: This parameter is available in CCS scoring. If error is larger than the tolerance, CCS match score equals to 0, and lipid candidates will be removed. Range: 0-20.</li>
<li><strong>CCS weight</strong>: This parameter is available in CCS scoring. The CCS match score weight to calculate integrated score.</li>
<li><strong>MS/MS weight</strong>: This parameter is available in CCS scoring. The MS/MS match score weight to calculate integrated score.</li>
</ul>
</div>
<div id="results" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Results</h3>
<p>Results of user submission are showed in the “My projects” panel (Figure 4.2).</p>
<div id="ccs-filtering" class="section level4">
<h4><span class="header-section-number">4.2.3.1</span> CCS filtering</h4>
<p>Users can get the detailed information of candidates by clicking the browser button (Figure 4.5). In below text, it contains brief information for each candidate.</p>
<ul>
<li><strong>Rank</strong>: The new rank after filtering with CCS.</li>
<li><strong>Name</strong>: Consistent with the name in candidate list (see Ref 4.2.1).</li>
<li><strong>SMILES</strong>: Consistent with the smiles in candidate list (see Ref 4.2.1).</li>
<li><strong>InChIKey</strong>: Consistent with the inchikey in candidate list (see Ref 4.2.1).</li>
<li><strong>Adduct</strong>: Consistent with the adduct in candidate list (see Ref 4.2.1).</li>
<li><strong>MS/MS score</strong>: Consistent with the score in candidate list (see Ref 4.2.1).</li>
<li><strong>MS/MS rank</strong>: Consistent with the rank in candidate list (see Ref 4.2.1).</li>
<li><strong>Predicted CCS (Å2)</strong>: The predicted CCS with SMILES and InChIKey.</li>
</ul>
<p>Users can also click download to obtain CSV table which contains the same information as preview results (Figure 4.5).</p>
</div>
<div id="ccs-scoring" class="section level4">
<h4><span class="header-section-number">4.2.3.2</span> CCS scoring</h4>
<p>The results generated with CCS scoring function are similar with results from CCS filtering (Figure 4.6). The difference is that CCS scoring has two additional columns as CCS score and integrated score.</p>
<ul>
<li><strong>CCS score</strong>: CCS score generated by comparing experimental CCS to predicted CCS values. CCS match is scored using a trapezoidal function. (The detail of trapezoidal function LipidIMMS Analyzer)</li>
<li><strong>Integrated score</strong>: The integrated score is calculated using a linear weighting function according to the user-defined weight for each match score.</li>
</ul>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["allccs_bookdown.pdf", "allccs_bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
